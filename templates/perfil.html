{% extends "base.html" %}
{% block title %}Perfil - PokeAgenda{% endblock %}

{% block head %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="{{ url_for('static', filename='css/global.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/perfil.css') }}">
{% endblock %}

{% block content %}

<div class="profile-container">

    <!-- ==============================
        CARD DO TREINADOR
    =============================== -->
    <h2 class="section-title">Perfil do Treinador</h2>

    {% if treinador %}
    <div class="trainer-card">
        <img src="{{ treinador.foto }}" alt="Foto do Treinador" class="trainer-photo">
        <h2>{{ treinador.nome }}</h2>
        <p><strong>Email:</strong> {{ treinador.email }}</p>
        <p><strong>CPF:</strong> {{ treinador.cpf }}</p>
        <p><strong>Cidade:</strong> {{ treinador.cidade }}</p>
        <a class="btn-edit" href="{{ url_for('editar_perfil', id=treinador.id) }}">Editar Perfil</a>
    </div>
    {% else %}
        <p>Treinador não encontrado.</p>
    {% endif %}

    <!-- ==============================
        TIME DO TREINADOR
    =============================== -->
    <h2 class="section-title">Time (até 6)</h2>

    {% if time %}
    <div class="pokemon-row">
        {% for p in time %}
        <div class="pokemon-card">
            <img src="{{ p.imagem_url }}" class="poke-img" alt="{{ p.nome }}">
            <div class="poke-info">
                <h4>{{ p.nome }} #{{ p.numero_pokedex }}</h4>
                <p><strong>Tipo:</strong> {{ p.tipo }}</p>
                <p><strong>Altura:</strong> {{ p.altura }} dm</p>
                <p><strong>Peso:</strong> {{ p.peso }} kg</p>
                <p><strong>Habilidades:</strong> {{ p.habilidades }}</p>
                <a href="{{ url_for('remover_pokemon', relacao_id=p.id) }}" class="poke-btn">Remover</a>
                <a href="{{ url_for('trocar_pokemon', relacao_id=p.id) }}" class="poke-btn">Trocar</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
        <p>Seu time está vazio.</p>
    {% endif %}

    <!-- ==============================
        BOX (PC)
    =============================== -->
    <h2 class="section-title">Box</h2>

    {% if box %}
    <div class="pokemon-row">
        {% for p in box %}
        <div class="pokemon-card">
            <img src="{{ p.imagem_url }}" class="poke-img" alt="{{ p.nome }}">
            <div class="poke-info">
                <h4>{{ p.nome }} #{{ p.numero_pokedex }}</h4>
                <p><strong>Tipo:</strong> {{ p.tipo }}</p>
                <p><strong>Altura:</strong> {{ p.altura }} dm</p>
                <p><strong>Peso:</strong> {{ p.peso }} kg</p>
                <p><strong>Habilidades:</strong> {{ p.habilidades }}</p>
                <a href="{{ url_for('remover_pokemon', relacao_id=p.id) }}" class="poke-btn">Remover</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
        <p>Box vazia.</p>
    {% endif %}

</div>

{% endblock %}
